{% extends 'base.html' %}

{% block title %}Мої Транзакції{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/transactions.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/buttons.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block header %}
{% include 'header.html' %}
{% endblock %}

{% block content %}
<div class="container">
    <button id="openModal" class="btn-create"><span>+</span> Створити транзакцію</button>
    <div id="loaderContainer" class="loader-container">
        <div class="transaction-loader">
            <div class="inner one"></div>
            <div class="inner two"></div>
            <div class="inner three"></div>
        </div>
    </div>
    <table id="transactionTable" class="hidden">
        <thead>
        <tr>
            <th>Дата</th>
            <th>Операція</th>
            <th>Категорія</th>
            <th>Сума</th>
            <th>Опис</th>
            <th>Дії</th>
        </tr>
        </thead>
        <tbody>
        <!-- Transactions will be populated here -->
        </tbody>
    </table>

    <div class="no-transactions-message" style="display: none;">
        <p>Немає транзакцій для відображення.</p>
    </div>
</div>

<!-- Modal -->
<div id="transactionModal" class="modal">
    <div id="loaderTransactionModal" class="loader-container">
        <div class="modal-loader">
            <div class="inner one"></div>
            <div class="inner two"></div>
            <div class="inner three"></div>
        </div>
    </div>
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Створити нову транзакцію</h2>
        <form id="transactionForm">
            <div class="form-group">
                <label for="date">Дата:</label>
                <input type="datetime-local" id="date" name="date" required>
            </div>
            <div class="form-group">
                <label for="operation">Операція:</label>
                <select id="operation" name="operation" required>
                    <option value="">Виберіть операцію</option>
                </select>
            </div>
            <div class="form-group">
                <label for="category">Категорія:</label>
                <select id="category" name="category" required disabled>
                    <option value="">Виберіть категорію</option>
                </select>
            </div>
            <div class="form-group">
                <label for="currency">Валюта:</label>
                <select id="currency" name="currency" required>
                    <
                    <option value="">Виберіть валюту</option>
                </select>
            </div>
            <div class="form-group">
                <label for="amount">Сума:</label>
                <input type="number" id="amount" name="amount" step="0.01" min="0.01" max="99999999" required>
            </div>
            <div class="form-group">
                <label for="description">Опис:</label>
                <textarea id="description" name="description" rows="3" minlength="10" maxlength="255"
                          required></textarea>
            </div>
            <button type="submit" class="btn-create">Створити</button>
        </form>
    </div>
</div>
{% endblock %}

{% block footer %}
{% include 'footer.html' %}
{% endblock %}

{% block scripts %}
<script type="module" src="{{ url_for('static', filename='js/transactions.js') }}"></script>
<script type="module" src="{{ url_for('static', filename='js/create-transaction-modal.js') }}"></script>
{% endblock %}